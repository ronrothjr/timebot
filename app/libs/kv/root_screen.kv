#: import environ os.environ
#: import gch kivy.utils.get_color_from_hex

#: import StiffScrollEffect kivymd.effects.stiffscroll.StiffScrollEffect

#: import NavigationItem libs.baseclass.tabnavigation.NavigationItem
#: import NavigationBar libs.baseclass.tabnavigation.NavigationBar

#: import TimebotWelcomeScreen libs.baseclass.welcome_screen.TimebotWelcomeScreen
#: import TimebotEntryScreen libs.baseclass.entry_screen.TimebotEntryScreen
#: import TimebotProjectsScreen libs.baseclass.projects_screen.TimebotProjectsScreen
#: import TimebotTimecardsScreen libs.baseclass.timecards_screen.TimebotTimecardsScreen
#: import TimebotSettingsScreen libs.baseclass.settings_screen.TimebotSettingsScreen


<TimebotRootScreen>
    md_bg_color: gch("#33333d")
    canvas:
        Color:
            rgba: gch("#33333d")
        Rectangle:
            pos: self.pos
            size: self.size

    MDBoxLayout:
        orientation: 'vertical'

        NavigationBar:
            id: nav_bar

            NavigationItem:
                id: 'welcome'
                text: "WELCOME"
                icon: "chart-pie"
                on_release:
                    scr_manager.transition.direction = "right"
                    scr_manager.current = "WELCOME"

            NavigationItem:
                id: 'entry'
                text: "TASKS"
                icon: "clock-time-five-outline"
                on_release:
                    scr_manager.transition.direction = "right" \
                    if scr_manager.current in ["PROJECTS", "TIMECARDS", "SETTINGS"] \
                    else "left"
                    scr_manager.current = "ENTRY"

            NavigationItem:
                id: 'projects'
                text: "PROJECTS"
                icon: "apps"
                on_release:
                    scr_manager.transition.direction = "right" \
                    if scr_manager.current in ["TIMECARDS", "SETTINGS"] \
                    else "left"
                    scr_manager.current = "PROJECTS"

            NavigationItem:
                id: 'timecards'
                text: "TIMECARDS"
                icon: "file-table-box-multiple"
                on_release:
                    scr_manager.transition.direction = "left" \
                    if scr_manager.current in ["WELCOME", "ENTRY", "PROJECTS"] \
                    else "right"
                    scr_manager.current = "TIMECARDS"

            NavigationItem:
                id: 'settings'
                text: "SETTINGS"
                icon: "cog"
                on_release:
                    scr_manager.transition.direction = "left"
                    scr_manager.current = "SETTINGS"

        ScreenManager:
            id: scr_manager

            TimebotWelcomeScreen:
                name: "WELCOME"

            TimebotEntryScreen:
                name: "ENTRY"

            TimebotProjectsScreen:
                name: "PROJECTS"

            TimebotTimecardsScreen:
                name: "TIMECARDS"

            TimebotSettingsScreen:
                name: "SETTINGS"